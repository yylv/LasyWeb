@model ViewModel.Models.PostModelBase

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<h2>发表帖子</h2>


@using (Html.BeginForm())
{
    @ var list=from item in Model.SubjectList select new System.Web.Mvc.SelectListItem(){ Text=item.SubjectName,Value=item.SubjectID};
    <div>
        <fieldset>
            <legend>发表帖子</legend>
                <div>
                    @Html.LabelFor(m=>m.SubjectList)
                    @Html.DropDownListFor(m => m.SubjectList, list)
                </div>
                <div>
                    @Html.LabelFor(m=>m.TopicName)
                    @Html.TextBoxFor(m=>m.TopicName)
                </div>
            <div class="editor-label">
                @Html.LabelFor(m => m.SubjectList)
            </div>
            <div class="editor-field">
                @Html.DropDownListFor(m => m.SubjectID, list)
                @Html.ValidationMessageFor(m => m.SubjectID)
            </div>

            <div class="editor-label">
                @Html.LabelFor(m => m.TopicName)
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.TopicName)
                @Html.ValidationMessageFor(m => m.TopicName)
            </div>
            @if(Model.PostContentType== ViewModel.Models.PostContentType.TextContents)
            {
                <div class="editor-label">
                    @Html.LabelFor(m => (m as ViewModel.Models.ContentPostModel).TopicContent)
                </div>
                <div class="editor-field">
                    @Html.TextAreaFor(m => (m as ViewModel.Models.ContentPostModel).TopicContent)
                    @Html.ValidationMessageFor(m => (m as ViewModel.Models.ContentPostModel).TopicContent)
                </div>
            }
            else
            {
               
            }
        </fieldset>
    </div>
}
